<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AbstractSessionEvent.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">GitHub Copilot Community SDK :: Java</a> &gt; <a href="index.source.html" class="el_package">com.github.copilot.sdk.events</a> &gt; <span class="el_source">AbstractSessionEvent.java</span></div><h1>AbstractSessionEvent.java</h1><pre class="source lang-java linenums">/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

package com.github.copilot.sdk.events;

import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonProperty;

import java.time.OffsetDateTime;
import java.util.UUID;

/**
 * Base class for all session events in the Copilot SDK.
 * &lt;p&gt;
 * Session events represent all activities that occur during a Copilot
 * conversation, including messages from the user and assistant, tool
 * executions, and session state changes. Events are delivered to handlers
 * registered via
 * {@link com.github.copilot.sdk.CopilotSession#on(java.util.function.Consumer)}.
 *
 * &lt;h2&gt;Event Categories&lt;/h2&gt;
 * &lt;ul&gt;
 * &lt;li&gt;&lt;strong&gt;Session events&lt;/strong&gt;: {@link SessionStartEvent},
 * {@link SessionResumeEvent}, {@link SessionErrorEvent},
 * {@link SessionIdleEvent}, etc.&lt;/li&gt;
 * &lt;li&gt;&lt;strong&gt;Assistant events&lt;/strong&gt;: {@link AssistantMessageEvent},
 * {@link AssistantMessageDeltaEvent}, {@link AssistantTurnStartEvent},
 * etc.&lt;/li&gt;
 * &lt;li&gt;&lt;strong&gt;Tool events&lt;/strong&gt;: {@link ToolExecutionStartEvent},
 * {@link ToolExecutionCompleteEvent}, etc.&lt;/li&gt;
 * &lt;li&gt;&lt;strong&gt;User events&lt;/strong&gt;: {@link UserMessageEvent}&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * &lt;h2&gt;Example Usage&lt;/h2&gt;
 *
 * &lt;pre&gt;{@code
 * session.on(event -&gt; {
 * 	if (event instanceof AssistantMessageEvent msg) {
 * 		System.out.println(&quot;Assistant: &quot; + msg.getData().getContent());
 * 	} else if (event instanceof SessionIdleEvent) {
 * 		System.out.println(&quot;Session is idle&quot;);
 * 	}
 * });
 * }&lt;/pre&gt;
 *
 * @see com.github.copilot.sdk.CopilotSession#on(java.util.function.Consumer)
 * @see SessionEventParser
 * @since 1.0.0
 */
@JsonIgnoreProperties(ignoreUnknown = true)
<span class="fc" id="L52">public abstract sealed class AbstractSessionEvent permits</span>
        // Session events
        SessionStartEvent, SessionResumeEvent, SessionErrorEvent, SessionIdleEvent, SessionInfoEvent,
        SessionModelChangeEvent, SessionHandoffEvent, SessionTruncationEvent, SessionSnapshotRewindEvent,
        SessionUsageInfoEvent, SessionCompactionStartEvent, SessionCompactionCompleteEvent, SessionShutdownEvent,
        // Assistant events
        AssistantTurnStartEvent, AssistantIntentEvent, AssistantReasoningEvent, AssistantReasoningDeltaEvent,
        AssistantMessageEvent, AssistantMessageDeltaEvent, AssistantTurnEndEvent, AssistantUsageEvent, AbortEvent,
        // Tool events
        ToolUserRequestedEvent, ToolExecutionStartEvent, ToolExecutionPartialResultEvent, ToolExecutionProgressEvent,
        ToolExecutionCompleteEvent,
        // User events
        UserMessageEvent, PendingMessagesModifiedEvent,
        // Skill events
        SkillInvokedEvent,
        // Other events
        SubagentStartedEvent, SubagentCompletedEvent, SubagentFailedEvent, SubagentSelectedEvent, HookStartEvent,
        HookEndEvent, SystemMessageEvent {

    @JsonProperty(&quot;id&quot;)
    private UUID id;

    @JsonProperty(&quot;timestamp&quot;)
    private OffsetDateTime timestamp;

    @JsonProperty(&quot;parentId&quot;)
    private UUID parentId;

    @JsonProperty(&quot;ephemeral&quot;)
    private Boolean ephemeral;

    /**
     * Gets the event type discriminator string.
     * &lt;p&gt;
     * This corresponds to the event type in the JSON protocol (e.g.,
     * &quot;assistant.message&quot;, &quot;session.idle&quot;).
     *
     * @return the event type string
     */
    public abstract String getType();

    /**
     * Gets the unique identifier for this event.
     *
     * @return the event UUID
     */
    public UUID getId() {
<span class="nc" id="L99">        return id;</span>
    }

    /**
     * Sets the event identifier.
     *
     * @param id
     *            the event UUID
     */
    public void setId(UUID id) {
<span class="fc" id="L109">        this.id = id;</span>
<span class="fc" id="L110">    }</span>

    /**
     * Gets the timestamp when this event occurred.
     *
     * @return the event timestamp
     */
    public OffsetDateTime getTimestamp() {
<span class="nc" id="L118">        return timestamp;</span>
    }

    /**
     * Sets the event timestamp.
     *
     * @param timestamp
     *            the event timestamp
     */
    public void setTimestamp(OffsetDateTime timestamp) {
<span class="fc" id="L128">        this.timestamp = timestamp;</span>
<span class="fc" id="L129">    }</span>

    /**
     * Gets the parent event ID, if this event is a child of another.
     *
     * @return the parent event UUID, or {@code null}
     */
    public UUID getParentId() {
<span class="nc" id="L137">        return parentId;</span>
    }

    /**
     * Sets the parent event ID.
     *
     * @param parentId
     *            the parent event UUID
     */
    public void setParentId(UUID parentId) {
<span class="fc" id="L147">        this.parentId = parentId;</span>
<span class="fc" id="L148">    }</span>

    /**
     * Returns whether this is an ephemeral event.
     * &lt;p&gt;
     * Ephemeral events are not persisted in session history.
     *
     * @return {@code true} if ephemeral, {@code false} otherwise
     */
    public Boolean getEphemeral() {
<span class="nc" id="L158">        return ephemeral;</span>
    }

    /**
     * Sets whether this is an ephemeral event.
     *
     * @param ephemeral
     *            {@code true} if ephemeral
     */
    public void setEphemeral(Boolean ephemeral) {
<span class="fc" id="L168">        this.ephemeral = ephemeral;</span>
<span class="fc" id="L169">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.14.202510111229</span></div></body></html>