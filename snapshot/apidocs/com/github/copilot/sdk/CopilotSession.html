<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) on Wed Feb 11 04:57:06 UTC 2026 -->
<title>CopilotSession (GitHub Copilot Community SDK :: Java 1.0.9-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2026-02-11">
<meta name="description" content="declaration: package: com.github.copilot.sdk, class: CopilotSession">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CopilotSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.github.copilot.sdk</a></div>
<h1 title="Class CopilotSession" class="title">Class CopilotSession</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.github.copilot.sdk.CopilotSession</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">CopilotSession</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span></div>
<div class="block">Represents a single conversation session with the Copilot CLI.
 <p>
 A session maintains conversation state, handles events, and manages tool
 execution. Sessions are created via <a href="CopilotClient.html#createSession(com.github.copilot.sdk.json.SessionConfig)"><code>CopilotClient.createSession(com.github.copilot.sdk.json.SessionConfig)</code></a> or
 resumed via <a href="CopilotClient.html#resumeSession(java.lang.String,com.github.copilot.sdk.json.ResumeSessionConfig)"><code>CopilotClient.resumeSession(java.lang.String, com.github.copilot.sdk.json.ResumeSessionConfig)</code></a>.

 <h2>Example Usage</h2>

 <pre><code>
 // Create a session
 var session = client.createSession(new SessionConfig().setModel("gpt-5")).get();

 // Register type-safe event handlers
 session.on(AssistantMessageEvent.class, msg -&gt; {
 	System.out.println(msg.getData().content());
 });
 session.on(SessionIdleEvent.class, idle -&gt; {
 	System.out.println("Session is idle");
 });

 // Send messages
 session.sendAndWait(new MessageOptions().setPrompt("Hello!")).get();

 // Clean up
 session.close();
 </code></pre></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="CopilotClient.html#createSession(com.github.copilot.sdk.json.SessionConfig)"><code>CopilotClient.createSession(com.github.copilot.sdk.json.SessionConfig)</code></a></li>
<li><a href="CopilotClient.html#resumeSession(java.lang.String,com.github.copilot.sdk.json.ResumeSessionConfig)"><code>CopilotClient.resumeSession(String, com.github.copilot.sdk.json.ResumeSessionConfig)</code></a></li>
<li><a href="events/AbstractSessionEvent.html" title="class in com.github.copilot.sdk.events"><code>AbstractSessionEvent</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#abort()" class="member-name-link">abort</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Aborts the currently processing message in this session.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Disposes the session and releases all associated resources.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="events/AbstractSessionEvent.html" title="class in com.github.copilot.sdk.events">AbstractSessionEvent</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMessages()" class="member-name-link">getMessages</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the complete list of messages and events in the session.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSessionId()" class="member-name-link">getSessionId</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the unique identifier for this session.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWorkspacePath()" class="member-name-link">getWorkspacePath</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the path to the session workspace directory when infinite sessions are
 enabled.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T extends <a href="events/AbstractSessionEvent.html" title="class in com.github.copilot.sdk.events">AbstractSessionEvent</a>&gt;<br><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#on(java.lang.Class,java.util.function.Consumer)" class="member-name-link">on</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;eventType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;T&gt;&nbsp;handler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Registers an event handler for a specific event type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#on(java.util.function.Consumer)" class="member-name-link">on</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="events/AbstractSessionEvent.html" title="class in com.github.copilot.sdk.events">AbstractSessionEvent</a>&gt;&nbsp;handler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Registers a callback for all session events.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#send(com.github.copilot.sdk.json.MessageOptions)" class="member-name-link">send</a><wbr>(<a href="json/MessageOptions.html" title="class in com.github.copilot.sdk.json">MessageOptions</a>&nbsp;options)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends a message to the Copilot session.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#send(java.lang.String)" class="member-name-link">send</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prompt)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends a simple text message to the Copilot session.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="events/AssistantMessageEvent.html" title="class in com.github.copilot.sdk.events">AssistantMessageEvent</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendAndWait(com.github.copilot.sdk.json.MessageOptions)" class="member-name-link">sendAndWait</a><wbr>(<a href="json/MessageOptions.html" title="class in com.github.copilot.sdk.json">MessageOptions</a>&nbsp;options)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends a message and waits until the session becomes idle with default 60
 second timeout.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="events/AssistantMessageEvent.html" title="class in com.github.copilot.sdk.events">AssistantMessageEvent</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendAndWait(com.github.copilot.sdk.json.MessageOptions,long)" class="member-name-link">sendAndWait</a><wbr>(<a href="json/MessageOptions.html" title="class in com.github.copilot.sdk.json">MessageOptions</a>&nbsp;options,
 long&nbsp;timeoutMs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends a message and waits until the session becomes idle.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="events/AssistantMessageEvent.html" title="class in com.github.copilot.sdk.events">AssistantMessageEvent</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendAndWait(java.lang.String)" class="member-name-link">sendAndWait</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prompt)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends a simple text message and waits until the session becomes idle.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setEventErrorHandler(com.github.copilot.sdk.EventErrorHandler)" class="member-name-link">setEventErrorHandler</a><wbr>(<a href="EventErrorHandler.html" title="interface in com.github.copilot.sdk">EventErrorHandler</a>&nbsp;handler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets a custom error handler for exceptions thrown by event handlers.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setEventErrorPolicy(com.github.copilot.sdk.EventErrorPolicy)" class="member-name-link">setEventErrorPolicy</a><wbr>(<a href="EventErrorPolicy.html" title="enum class in com.github.copilot.sdk">EventErrorPolicy</a>&nbsp;policy)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the error propagation policy for event dispatch.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getSessionId()">
<h3>getSessionId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getSessionId</span>()</div>
<div class="block">Gets the unique identifier for this session.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the session ID</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWorkspacePath()">
<h3>getWorkspacePath</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getWorkspacePath</span>()</div>
<div class="block">Gets the path to the session workspace directory when infinite sessions are
 enabled.
 <p>
 The workspace directory contains checkpoints/, plan.md, and files/
 subdirectories.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the workspace path, or <code>null</code> if infinite sessions are disabled</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setEventErrorHandler(com.github.copilot.sdk.EventErrorHandler)">
<h3>setEventErrorHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setEventErrorHandler</span><wbr><span class="parameters">(<a href="EventErrorHandler.html" title="interface in com.github.copilot.sdk">EventErrorHandler</a>&nbsp;handler)</span></div>
<div class="block">Sets a custom error handler for exceptions thrown by event handlers.
 <p>
 When an event handler registered via <a href="#on(java.util.function.Consumer)"><code>on(Consumer)</code></a> or
 <a href="#on(java.lang.Class,java.util.function.Consumer)"><code>on(Class, Consumer)</code></a> throws an exception during event dispatch, the
 error handler is invoked with the event and exception. The error is always
 logged at <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Level.html#WARNING" title="class or interface in java.util.logging" class="external-link"><code>Level.WARNING</code></a> regardless of whether a custom handler is
 set.

 <p>
 Whether dispatch continues or stops after an error is controlled by the
 <a href="EventErrorPolicy.html" title="enum class in com.github.copilot.sdk"><code>EventErrorPolicy</code></a> set via <a href="#setEventErrorPolicy(com.github.copilot.sdk.EventErrorPolicy)"><code>setEventErrorPolicy(com.github.copilot.sdk.EventErrorPolicy)</code></a>. The error
 handler is always invoked regardless of the policy.

 <p>
 If the error handler itself throws an exception, that exception is caught and
 logged at <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Level.html#SEVERE" title="class or interface in java.util.logging" class="external-link"><code>Level.SEVERE</code></a>, and dispatch is stopped regardless of the
 configured policy.

 <p>
 <b>Example:</b>

 <pre><code>
 session.setEventErrorHandler((event, exception) -&gt; {
 	metrics.increment("handler.errors");
 	logger.error("Handler failed on {}: {}", event.getType(), exception.getMessage());
 });
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>handler</code> - the error handler, or <code>null</code> to use only the default logging
            behavior</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
<dt>Since:</dt>
<dd>1.0.8</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="EventErrorHandler.html" title="interface in com.github.copilot.sdk"><code>EventErrorHandler</code></a></li>
<li><a href="#setEventErrorPolicy(com.github.copilot.sdk.EventErrorPolicy)"><code>setEventErrorPolicy(EventErrorPolicy)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setEventErrorPolicy(com.github.copilot.sdk.EventErrorPolicy)">
<h3>setEventErrorPolicy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setEventErrorPolicy</span><wbr><span class="parameters">(<a href="EventErrorPolicy.html" title="enum class in com.github.copilot.sdk">EventErrorPolicy</a>&nbsp;policy)</span></div>
<div class="block">Sets the error propagation policy for event dispatch.
 <p>
 Controls whether remaining event listeners continue to execute when a
 preceding listener throws an exception. Errors are always logged at
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Level.html#WARNING" title="class or interface in java.util.logging" class="external-link"><code>Level.WARNING</code></a> regardless of the policy.

 <ul>
 <li><a href="EventErrorPolicy.html#PROPAGATE_AND_LOG_ERRORS"><code>EventErrorPolicy.PROPAGATE_AND_LOG_ERRORS</code></a> (default) — log the
 error and stop dispatch after the first error</li>
 <li><a href="EventErrorPolicy.html#SUPPRESS_AND_LOG_ERRORS"><code>EventErrorPolicy.SUPPRESS_AND_LOG_ERRORS</code></a> — log the error and
 continue dispatching to all remaining listeners</li>
 </ul>

 <p>
 The configured <a href="EventErrorHandler.html" title="interface in com.github.copilot.sdk"><code>EventErrorHandler</code></a> (if any) is always invoked
 regardless of the policy.

 <p>
 <b>Example:</b>

 <pre><code>
 // Opt-in to suppress errors (continue dispatching despite errors)
 session.setEventErrorPolicy(EventErrorPolicy.SUPPRESS_AND_LOG_ERRORS);
 session.setEventErrorHandler((event, ex) -&gt; logger.error("Handler failed, continuing: {}", ex.getMessage(), ex));
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>policy</code> - the error policy (default is
            <a href="EventErrorPolicy.html#PROPAGATE_AND_LOG_ERRORS"><code>EventErrorPolicy.PROPAGATE_AND_LOG_ERRORS</code></a>)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
<dt>Since:</dt>
<dd>1.0.8</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="EventErrorPolicy.html" title="enum class in com.github.copilot.sdk"><code>EventErrorPolicy</code></a></li>
<li><a href="#setEventErrorHandler(com.github.copilot.sdk.EventErrorHandler)"><code>setEventErrorHandler(EventErrorHandler)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="send(java.lang.String)">
<h3>send</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">send</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prompt)</span></div>
<div class="block">Sends a simple text message to the Copilot session.
 <p>
 This is a convenience method equivalent to
 <code>send(new MessageOptions().setPrompt(prompt))</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>prompt</code> - the message text to send</dd>
<dt>Returns:</dt>
<dd>a future that resolves with the message ID assigned by the server</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#send(com.github.copilot.sdk.json.MessageOptions)"><code>send(MessageOptions)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendAndWait(java.lang.String)">
<h3>sendAndWait</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="events/AssistantMessageEvent.html" title="class in com.github.copilot.sdk.events">AssistantMessageEvent</a>&gt;</span>&nbsp;<span class="element-name">sendAndWait</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prompt)</span></div>
<div class="block">Sends a simple text message and waits until the session becomes idle.
 <p>
 This is a convenience method equivalent to
 <code>sendAndWait(new MessageOptions().setPrompt(prompt))</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>prompt</code> - the message text to send</dd>
<dt>Returns:</dt>
<dd>a future that resolves with the final assistant message event, or
         <code>null</code> if no assistant message was received</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#sendAndWait(com.github.copilot.sdk.json.MessageOptions)"><code>sendAndWait(MessageOptions)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="send(com.github.copilot.sdk.json.MessageOptions)">
<h3>send</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">send</span><wbr><span class="parameters">(<a href="json/MessageOptions.html" title="class in com.github.copilot.sdk.json">MessageOptions</a>&nbsp;options)</span></div>
<div class="block">Sends a message to the Copilot session.
 <p>
 This method sends a message asynchronously and returns immediately. Use
 <a href="#sendAndWait(com.github.copilot.sdk.json.MessageOptions)"><code>sendAndWait(MessageOptions)</code></a> to wait for the response.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>options</code> - the message options containing the prompt and attachments</dd>
<dt>Returns:</dt>
<dd>a future that resolves with the message ID assigned by the server</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#sendAndWait(com.github.copilot.sdk.json.MessageOptions)"><code>sendAndWait(MessageOptions)</code></a></li>
<li><a href="#send(java.lang.String)"><code>send(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendAndWait(com.github.copilot.sdk.json.MessageOptions,long)">
<h3>sendAndWait</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="events/AssistantMessageEvent.html" title="class in com.github.copilot.sdk.events">AssistantMessageEvent</a>&gt;</span>&nbsp;<span class="element-name">sendAndWait</span><wbr><span class="parameters">(<a href="json/MessageOptions.html" title="class in com.github.copilot.sdk.json">MessageOptions</a>&nbsp;options,
 long&nbsp;timeoutMs)</span></div>
<div class="block">Sends a message and waits until the session becomes idle.
 <p>
 This method blocks until the assistant finishes processing the message or
 until the timeout expires. It's suitable for simple request/response
 interactions where you don't need to process streaming events.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>options</code> - the message options containing the prompt and attachments</dd>
<dd><code>timeoutMs</code> - timeout in milliseconds (0 or negative for no timeout)</dd>
<dt>Returns:</dt>
<dd>a future that resolves with the final assistant message event, or
         <code>null</code> if no assistant message was received. The future
         completes exceptionally with a TimeoutException if the timeout
         expires.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#sendAndWait(com.github.copilot.sdk.json.MessageOptions)"><code>sendAndWait(MessageOptions)</code></a></li>
<li><a href="#send(com.github.copilot.sdk.json.MessageOptions)"><code>send(MessageOptions)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendAndWait(com.github.copilot.sdk.json.MessageOptions)">
<h3>sendAndWait</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="events/AssistantMessageEvent.html" title="class in com.github.copilot.sdk.events">AssistantMessageEvent</a>&gt;</span>&nbsp;<span class="element-name">sendAndWait</span><wbr><span class="parameters">(<a href="json/MessageOptions.html" title="class in com.github.copilot.sdk.json">MessageOptions</a>&nbsp;options)</span></div>
<div class="block">Sends a message and waits until the session becomes idle with default 60
 second timeout.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>options</code> - the message options containing the prompt and attachments</dd>
<dt>Returns:</dt>
<dd>a future that resolves with the final assistant message event, or
         <code>null</code> if no assistant message was received</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#sendAndWait(com.github.copilot.sdk.json.MessageOptions,long)"><code>sendAndWait(MessageOptions, long)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="on(java.util.function.Consumer)">
<h3>on</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></span>&nbsp;<span class="element-name">on</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="events/AbstractSessionEvent.html" title="class in com.github.copilot.sdk.events">AbstractSessionEvent</a>&gt;&nbsp;handler)</span></div>
<div class="block">Registers a callback for all session events.
 <p>
 The handler will be invoked for every event in this session, including
 assistant messages, tool calls, and session state changes. For type-safe
 handling of specific event types, prefer <a href="#on(java.lang.Class,java.util.function.Consumer)"><code>on(Class, Consumer)</code></a>
 instead.

 <p>
 <b>Exception handling:</b> If a handler throws an exception, the error is
 routed to the configured <a href="EventErrorHandler.html" title="interface in com.github.copilot.sdk"><code>EventErrorHandler</code></a> (if set). Whether
 remaining handlers execute depends on the configured
 <a href="EventErrorPolicy.html" title="enum class in com.github.copilot.sdk"><code>EventErrorPolicy</code></a>.

 <p>
 <b>Example:</b>

 <pre><code>
 // Collect all events
 var events = new ArrayList&lt;AbstractSessionEvent&gt;();
 session.on(events::add);
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>handler</code> - a callback to be invoked when a session event occurs</dd>
<dt>Returns:</dt>
<dd>a Closeable that, when closed, unsubscribes the handler</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#on(java.lang.Class,java.util.function.Consumer)"><code>on(Class, Consumer)</code></a></li>
<li><a href="events/AbstractSessionEvent.html" title="class in com.github.copilot.sdk.events"><code>AbstractSessionEvent</code></a></li>
<li><a href="#setEventErrorPolicy(com.github.copilot.sdk.EventErrorPolicy)"><code>setEventErrorPolicy(EventErrorPolicy)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="on(java.lang.Class,java.util.function.Consumer)">
<h3>on</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T extends <a href="events/AbstractSessionEvent.html" title="class in com.github.copilot.sdk.events">AbstractSessionEvent</a>&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></span>&nbsp;<span class="element-name">on</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;eventType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;T&gt;&nbsp;handler)</span></div>
<div class="block">Registers an event handler for a specific event type.
 <p>
 This provides a type-safe way to handle specific events without needing
 <code>instanceof</code> checks. The handler will only be called for events
 matching the specified type.

 <p>
 <b>Exception handling:</b> If a handler throws an exception, the error is
 routed to the configured <a href="EventErrorHandler.html" title="interface in com.github.copilot.sdk"><code>EventErrorHandler</code></a> (if set). Whether
 remaining handlers execute depends on the configured
 <a href="EventErrorPolicy.html" title="enum class in com.github.copilot.sdk"><code>EventErrorPolicy</code></a>.

 <p>
 <b>Example Usage</b>
 </p>

 <pre><code>
 // Handle assistant messages
 session.on(AssistantMessageEvent.class, msg -&gt; {
 	System.out.println(msg.getData().content());
 });

 // Handle session idle
 session.on(SessionIdleEvent.class, idle -&gt; {
 	done.complete(null);
 });

 // Handle streaming deltas
 session.on(AssistantMessageDeltaEvent.class, delta -&gt; {
 	System.out.print(delta.getData().deltaContent());
 });
 </code></pre></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the event type</dd>
<dt>Parameters:</dt>
<dd><code>eventType</code> - the class of the event to listen for</dd>
<dd><code>handler</code> - a callback invoked when events of this type occur</dd>
<dt>Returns:</dt>
<dd>a Closeable that unsubscribes the handler when closed</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#on(java.util.function.Consumer)"><code>on(Consumer)</code></a></li>
<li><a href="events/AbstractSessionEvent.html" title="class in com.github.copilot.sdk.events"><code>AbstractSessionEvent</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMessages()">
<h3>getMessages</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="events/AbstractSessionEvent.html" title="class in com.github.copilot.sdk.events">AbstractSessionEvent</a>&gt;&gt;</span>&nbsp;<span class="element-name">getMessages</span>()</div>
<div class="block">Gets the complete list of messages and events in the session.
 <p>
 This retrieves the full conversation history, including all user messages,
 assistant responses, tool invocations, and other session events.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a future that resolves with a list of all session events</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="events/AbstractSessionEvent.html" title="class in com.github.copilot.sdk.events"><code>AbstractSessionEvent</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="abort()">
<h3>abort</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">abort</span>()</div>
<div class="block">Aborts the currently processing message in this session.
 <p>
 Use this to cancel a long-running operation or stop the assistant from
 continuing to generate a response.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a future that completes when the abort is acknowledged</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this session has been terminated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Disposes the session and releases all associated resources.
 <p>
 This destroys the session on the server, clears all event handlers, and
 releases tool and permission handlers. After calling this method, the session
 cannot be used again. Subsequent calls to this method have no effect.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html#close()" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2026. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
